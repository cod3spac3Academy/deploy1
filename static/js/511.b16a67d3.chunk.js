"use strict";(self.webpackChunkdeploy=self.webpackChunkdeploy||[]).push([[511],{511:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var s,a=n(791),r=n(165),c=n(861),o=n(439),i=function(){var e=(0,a.useState)({}),t=(0,o.Z)(e,2),n=t[0],s=t[1],i=(0,a.useState)(!1),l=(0,o.Z)(i,2),d=l[0],u=l[1],x=(0,a.useState)(null),h=(0,o.Z)(x,2),p=h[0],f=h[1],m=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t,n,a,c,o,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"GET",n=i.length>1&&void 0!==i[1]?i[1]:{id:"",text:""},e.prev=2,u(!0),f(null),a=null,c="https://task-list-930b3-default-rtdb.europe-west1.firebasedatabase.app/","DELETE"!==t){e.next=13;break}return e.next=10,fetch(c+"/tasks/"+n.id+".json",{method:t});case 10:a=e.sent,e.next=22;break;case 13:if("PATCH"!==t){e.next=19;break}return e.next=16,fetch(c+"/tasks/"+n.id+".json",{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n.text})});case 16:a=e.sent,e.next=22;break;case 19:return e.next=21,fetch(c+"/tasks.json",{method:t,headers:{"Content-Type":"GET"!==t?"application/json":""},body:"GET"!==t?JSON.stringify({title:n.text}):null});case 21:a=e.sent;case 22:if(!a.ok){e.next=27;break}return e.next=25,a.json();case 25:o=e.sent,"GET"===t?s(o):m();case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(2),f({message:e.t0.message||"Something went wrong!"});case 32:u(!1);case 33:case"end":return e.stop()}}),e,null,[[2,29]])})));return function(){return e.apply(this,arguments)}}();return{pending:d,error:p,tasks:n,fetchTasksHandler:m}},l="Item_task-item__N8901",d="Item_title__XA0sp",u="Item_even__QGSzF",x="Item_actions__rT8Vd",h="Item_edit-mode__cQSl8",p="Item_edit__sOAoE",f="Item_delete__10t4M",m=n(184),b=function(e){var t=(0,a.useState)(!1),n=(0,o.Z)(t,2),s=n[0],r=n[1],c=(0,a.useRef)(null),i=function(){c.current.focus(),r(!0)},b=function(){c.current.blur(),e.onEdit(e.id,c.current.textContent),r(!1)};return(0,m.jsxs)("li",{className:"".concat(l," \n    ").concat(e.even&&u),children:[(0,m.jsx)("div",{onClick:i,onKeyPress:function(e){"Enter"===e.key&&b()},contentEditable:!0,suppressContentEditableWarning:!0,onBlur:b,ref:c,className:"".concat(d," ").concat(s&&h),children:e.title}),(0,m.jsx)("span",{onClick:i,className:"".concat(x," ").concat(p),children:(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",size:"fa-xs",children:(0,m.jsx)("path",{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"})})}),(0,m.jsx)("span",{onClick:function(){e.onDelete(e.id)},className:"".concat(x," ").concat(f),children:(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,m.jsx)("path",{d:"M290.7 57.4L57.4 290.7c-25 25-25 65.5 0 90.5l80 80c12 12 28.3 18.7 45.3 18.7H288h9.4H512c17.7 0 32-14.3 32-32s-14.3-32-32-32H387.9L518.6 285.3c25-25 25-65.5 0-90.5L381.3 57.4c-25-25-65.5-25-90.5 0zM297.4 416H288l-105.4 0-80-80L227.3 211.3 364.7 348.7 297.4 416z"})})})]})},k=function(e){return(0,m.jsx)("ul",{className:"task-list",children:Object.keys(e.items).map((function(t,n){return(0,m.jsx)(b,{id:t,title:e.items[t].title,onDelete:e.onDeleteItem,onEdit:e.onEditItem,even:n%2===0},t)}))})},g=n(168),v=n(444).ZP.button.attrs((function(e){return{type:e.type||"button"}}))(s||(s=(0,g.Z)(["\n  width: 100%;\n  background: #3b5998;\n  font: inherit;\n  padding: .7em 1.5em;\n  border: 1px solid 8b9dc3;\n  color: white;\n  cursor: pointer;\n  border-radius: .3rem;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  transition: all .2s ease-out;\n\n  @media (min-width: 768px) {\n    width: auto;\n  }\n\n\n  &:hover,\n  &:active {\n    background: #5972a9;\n    border-color: #8b9dc3;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.26);\n    transition: all .2s ease-out;\n  }\n"]))),_="TasksInput_form-control__vA9F5",j="TasksInput_not-fullfilled__3yK49",w=function(e){var t=(0,a.useState)(""),n=(0,o.Z)(t,2),s=n[0],r=n[1],c=(0,a.useState)(!0),i=(0,o.Z)(c,2),l=i[0],d=i[1];return(0,m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),0!==s.trim().length?(e.onAddTask(s),r("")):d(!1)},children:[(0,m.jsxs)("div",{className:"".concat(_," ").concat(!l&&j),children:[(0,m.jsx)("label",{children:(0,m.jsx)("h2",{children:"Post a Task"})}),(0,m.jsx)("input",{type:"text",onChange:function(e){e.target.value.trim().length>0&&d(!0),r(e.target.value)},value:s})]}),(0,m.jsx)(v,{type:"submit",children:"Save"})]})},T=n(535),y="TasksManager_task-form__7G0b-",E="TasksManager_tasks-content__btplI",C=function(){var e=i(),t=e.pending,n=e.error,s=e.tasks,r=e.fetchTasksHandler;return(0,a.useEffect)((function(){r()}),[]),(0,m.jsxs)("main",{children:[(0,m.jsx)("section",{className:y,children:(0,m.jsx)(w,{onAddTask:function(e){r("POST",{text:e})}})}),t&&(0,m.jsx)(T.Z,{}),(0,m.jsxs)("section",{className:E,children:[!t&&null!==s&&null===n&&(0,m.jsx)(k,{items:s,onDeleteItem:function(e){r("DELETE",{id:e})},onEditItem:function(e,t){r("PATCH",{id:e,text:t})}}),!t&&null===s&&!n&&(0,m.jsx)("h2",{style:{textAlign:"center",padding:"1em",border:"1px solid #339900",backgroundColor:"#99cc33"},children:"No tasks availables. Add one?"}),!t&&null!==n&&(0,m.jsx)("h2",{style:{textAlign:"center",padding:"1em",border:"1px solid #339900",backgroundColor:"#99cc33"},children:n.message})]})]})}}}]);
//# sourceMappingURL=511.b16a67d3.chunk.js.map